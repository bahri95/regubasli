<?php         if (!defined('BASEPATH')) exit('No direct script access allowed');    class Profesimodel extends CI_Model {                function  __construct() {            // Call the Model constructor            parent::__construct();        }                function get_total_propinsi() {            $sql = "SELECT COUNT(*)'total' FROM profesi_m";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->row_array();                $query->free_result();                return $result["total"];            } else {                return 0;            }        }         function get_max_kode_profesi() {            $sql = "SELECT (MAX(id_profesi)+1)'max_id' FROM profesi_m";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }        function is_exists_profesi($propinsi) {            $sql = "SELECT COUNT(*)'total' FROM profesi_m WHERE LOWER(nama_profesi) = ?";            $query = $this->db->query($sql, array($propinsi));            $result = $query->row_array();            $query->free_result();                        if (isset($result['total']) AND !empty($result['total'])) {                return true;            } else {                return false;            }        }                function is_exists_profesi_edit($profesi) {            $id_profesi = $this->input->post('id_profesi');            $sql = "SELECT COUNT(*)'total' FROM profesi_m WHERE LOWER(nama_profesi) = ? and id_profesi <> $id_profesi";            $query = $this->db->query($sql, array($profesi));            $result = $query->row_array();            $query->free_result();                        if (isset($result['total']) AND !empty($result['total'])) {                return true;            } else {                return false;            }        }                function get_data_propinsi($params) {            $sql = "SELECT a.* FROM profesi_m a                ORDER BY nama_profesi ASC LIMIT ?, ?";            $query = $this->db->query($sql, $params);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_all_profesi() {            $sql = "SELECT * FROM profesi_m ORDER BY id_profesi ASC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $return = $query->result_array();                $query->free_result();                return $return;            } else {                return false;            }        }                function get_all_profesi_order_id_profesi() {            $sql = "SELECT * FROM profesi_m ORDER BY id_profesi ASC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $return = $query->result_array();                $query->free_result();                return $return;            } else {                return false;            }        }                function get_profesi_by_id($id_profesi) {            $this->db->where('id_profesi', $id_profesi);            $query = $this->db->get('profesi_m');                        if ($query->num_rows() > 0) {                $return= $query->row_array();                $query->free_result();                return $return;            } else {                return false;            }        }                function process_profesi_add($params) {            // insert into profesi_m            $sql = "INSERT INTO profesi_m (id_profesi, nama_profesi)                VALUES (?, ?)";            return $this->db->query($sql, $params);        }                function process_profesi_edit($params) {            // update into profesi_m            $sql = "UPDATE profesi_m SET nama_profesi = ?                WHERE id_profesi = ?";            return $this->db->query($sql, $params);        }                function process_propinsi_delete($id_profesi) {                        if(!empty($id_profesi)) {                foreach($id_profesi as $value) {                    $this->db->where('id_profesi', $value);                    $this->db->delete('profesi_m');                }            }            return true;        }                function process_profesi_delete_one($id_profesi) {            $this->db->where('id_profesi', $id_profesi);            return $this->db->delete('profesi_m');        }    }