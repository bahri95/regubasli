<?php         if (!defined('BASEPATH')) exit('No direct script access allowed');    class kecamatanmodel extends CI_Model {                function  __construct() {            // Call the Model constructor            parent::__construct();        }                function get_all_kota() {            $sql = "SELECT * FROM kota";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function is_exists_kecamatan($kecamatan) {            $id = $this->input->post('id_kota');            $sql = "SELECT COUNT(*)'total' FROM kecamatan WHERE LOWER(nama) = ?  and id = $id";            $query = $this->db->query($sql, array($kecamatan));            $result = $query->row_array();            $query->free_result();                        if (isset($result['total']) AND !empty($result['total'])) {                return true;            } else {                return false;            }        }                function get_max_kode_kecamatan() {            $sql = "SELECT (MAX(id)+1)'max_id' FROM kecamatan";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_total_kecamatan($id = '') {            $params = array($id);                        if(!empty($id))                            $sql = "SELECT COUNT(*)'total' FROM kecamatan WHERE id = ?"; else            $sql = "SELECT COUNT(*)'total' FROM kecamatan";            $query = $this->db->query($sql, $params);                        if ($query->num_rows() > 0) {                $result = $query->row_array();                $return = $result["total"];                $query->free_result();                return $return;            } else {                return 0;            }        }                function get_all_kecamatan() {            $sql = "SELECT COUNT(*)'total' FROM kecamatan";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_data_kecamatan($id = '', $limit) {                        if(!empty($id)) {                $params  = array_merge(array($id), $limit);                $sql = "SELECT a.*, c.nama as nama_kota FROM kecamatan a                    INNER JOIN kota c ON a.id_kabupaten = c.id                    WHERE c.id = ?                    ORDER BY a.nama ASC LIMIT ?, ?";            } else {                $params  = $limit;                $sql = "SELECT a.*, c.nama as nama_kota FROM kecamatan a                    INNER JOIN kota c ON a.id_kabupaten = c.id                                        ORDER BY a.nama ASC LIMIT ?, ?";            }            $query = $this->db->query($sql, $params);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_data_kecamatan_all($id = '') {                        if(!empty($id)) {                $params  = array_merge(array($id));                $sql = "SELECT a.*, c.nama as nama_kota FROM kecamatan a                    INNER JOIN kota c ON a.id_kabupaten = c.id                    WHERE c.id = ?                    ORDER BY a.nama  ASC ";                $query = $this->db->query($sql, $params);            } else {                $sql = "SELECT a.* , c.nama as nama_kota FROM kecamatan a                    INNER JOIN kota c ON a.id_kabupaten = c.id                    ORDER BY a.nama ASC ";                $query = $this->db->query($sql);            }                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_kecamatan_by_id($id) {            $query = $this->db->where(array('id' => $id));            $query = $this->db->get('kecamatan');                        if ($query->num_rows() > 0) {                $result = $query->row_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function process_kecamatan_add($params) {            // insert into kecamatan            $sql = "INSERT INTO kecamatan (id, id_kabupaten, nama)                VALUES (?, ?, ?)";            return $this->db->query($sql, $params);        }                function process_kecamatan_edit($params) {            // update into kecamatan            $sql = "UPDATE kecamatan SET id_kabupaten = ?, nama = ?                WHERE id = ?";            return $this->db->query($sql, $params);        }                function process_kecamatan_delete($id) {                        if(!empty($id)) {                foreach($id as $value) {                    $this->db->where('id', $value);                    $this->db->delete('kecamatan');                }            }            return true;        }                function process_kecamatan_delete_one($id) {                        if(!empty($id)) {                $this->db->where('id', $id);                $this->db->delete('kecamatan');            }            return true;        }    }