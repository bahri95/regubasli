<?php         if (!defined('BASEPATH')) exit('No direct script access allowed');    class Propinsimodel extends CI_Model {                function  __construct() {            // Call the Model constructor            parent::__construct();        }                function get_total_propinsi() {            $sql = "SELECT COUNT(*)'total' FROM provinsi";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->row_array();                $query->free_result();                return $result["total"];            } else {                return 0;            }        }         function get_max_kode_prov() {            $sql = "SELECT (MAX(id)+1)'max_id' FROM provinsi";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }        function is_exists_propinsi($propinsi) {            $sql = "SELECT COUNT(*)'total' FROM provinsi WHERE LOWER(nama) = ?";            $query = $this->db->query($sql, array($propinsi));            $result = $query->row_array();            $query->free_result();                        if (isset($result['total']) AND !empty($result['total'])) {                return true;            } else {                return false;            }        }                function is_exists_propinsi_edit($propinsi) {            $id = $this->input->post('id_propinsiv');            $sql = "SELECT COUNT(*)'total' FROM provinsi WHERE LOWER(nama) = ? and id <> $id";            $query = $this->db->query($sql, array($propinsi));            $result = $query->row_array();            $query->free_result();                        if (isset($result['total']) AND !empty($result['total'])) {                return true;            } else {                return false;            }        }                function get_data_propinsi($params) {            $sql = "SELECT a.* FROM provinsi a                ORDER BY nama ASC LIMIT ?, ?";            $query = $this->db->query($sql, $params);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_all_propinsi() {            $sql = "SELECT * FROM provinsi ORDER BY nama ASC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $return = $query->result_array();                $query->free_result();                return $return;            } else {                return false;            }        }                function get_all_propinsi_order_id() {            $sql = "SELECT * FROM provinsi ORDER BY id ASC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $return = $query->result_array();                $query->free_result();                return $return;            } else {                return false;            }        }                function get_propinsi_by_id($id) {            $this->db->where('id', $id);            $query = $this->db->get('provinsi');                        if ($query->num_rows() > 0) {                $return= $query->row_array();                $query->free_result();                return $return;            } else {                return false;            }        }                function process_propinsi_add($params) {            // insert into provinsi            $sql = "INSERT INTO provinsi (id, nama)                VALUES (?, ?)";            return $this->db->query($sql, $params);        }                function process_propinsi_edit($params) {            // update into provinsi            $sql = "UPDATE provinsi SET nama = ?                WHERE id = ?";            return $this->db->query($sql, $params);        }                function process_propinsi_delete($id) {                        if(!empty($id)) {                foreach($id as $value) {                    $this->db->where('id', $value);                    $this->db->delete('provinsi');                }            }            return true;        }                function process_propinsi_delete_one($id) {            $this->db->where('id', $id);            return $this->db->delete('provinsi');        }    }