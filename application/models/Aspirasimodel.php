<?php         if (!defined('BASEPATH')) exit('No direct script access allowed');    class Aspirasimodel extends CI_Model {                function  __construct() {            // Call the Model constructor            parent::__construct();        }                function get_list_asosiasi() {            $sql = "SELECT * FROM asosiasi_m ORDER BY id_asosiasi DESC ";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_data_aspirasi(){            $sql = "SELECT a.*, s.id_asosiasi, s.nama_asosiasi FROM aspirasi_m a         LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi  where s.id_asosiasi = '100' and a.publish = 'tidak'            ORDER BY a.tanggal DESC";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_data_aspirasi_verifikasi(){            $sql = "SELECT a.*, s.id_asosiasi, s.nama_asosiasi FROM aspirasi_m a LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where s.id_asosiasi = '100' and a.publish = 'ya' and a.status_jawab = 'tidak' ORDER BY a.tanggal DESC";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_data_aspirasi_jawaban(){            $sql = "SELECT a.*, s.id_asosiasi, s.nama_asosiasi FROM aspirasi_m a LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where s.id_asosiasi = '100' and a.publish = 'ya' and  a.status_jawab = 'ya'";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_data_aspirasi_jawaban_public(){            $sql = "SELECT a.*, s.id_asosiasi, s.nama_asosiasi FROM aspirasi_m a LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where s.id_asosiasi = '100' and a.publish = 'ya' ORDER BY a.tanggal limit 5";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_data_aspirasi_by_id($params){            $sql = "SELECT a.*, s.nama_asosiasi FROM aspirasi_m a         LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where a.id_aspirasi = ?";            $query = $this->db->query($sql,$params);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_jumlah_aspirasi(){            $sql = "SELECT a.*, count(*)'jumlah', s.nama_asosiasi FROM aspirasi_m a         LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where s.id_asosiasi = '100' and a.publish = 'tidak'";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_jumlah_aspirasi_verifikasi(){            $sql = "SELECT a.*, count(*)'jumlah', s.nama_asosiasi FROM aspirasi_m a         LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where s.id_asosiasi = '100' and a.publish = 'ya' and a.status_jawab = 'tidak'";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_jumlah_aspirasi_jawaban(){            $sql = "SELECT a.*, count(*)'jumlah', s.nama_asosiasi FROM aspirasi_m a         LEFT JOIN asosiasi_m s ON a.id_asosiasi = s.id_asosiasi where s.id_asosiasi = '100' and a.publish = 'ya' and a.status_jawab  ='ya'";            $query = $this->db->query($sql);                        if($query->num_rows() > 0){                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function process_aspirasi_send($params) {            $sql = "INSERT INTO aspirasi_m (id_asosiasi, nama_pengirim, pekerjaan, email, judul, isi_aspirasi, tanggal) VALUES ( ? , ?, ?, ?, ?, ?, ?)";            return $this->db->query($sql, $params);            print_r($sql);        }                function process_aspirasi_delete($id) {            $this->db->where('id_aspirasi', $id);            return $this->db->delete('aspirasi_m');        }    }