<?php         if (!defined('BASEPATH')) exit('No direct script access allowed');    class Beritamodel extends CI_Model {                function  __construct() {            // Call the Model constructor            parent::__construct();        }                function get_list_asosiasi() {            $sql = "SELECT * FROM relawan_m ORDER BY id_relawan DESC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }       function get_list_relawan_private() {                       $sql = "SELECT * FROM relawan_m             ORDER BY id_relawan ASC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }        function get_list_relawan_by_id($id) {                       $sql = "SELECT * FROM relawan_m WHERE id_relawan = ?";            $query = $this->db->query($sql, $id);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return 0;            }        }                function get_total_berita() {            $id_relawan = $this->uri->segment(4,0);            $sql = "SELECT COUNT(*)'total' FROM berita_m where id_relawan = $id_relawan";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->row_array();                $query->free_result();                return $result["total"];            } else {                return 0;            }        }                function get_list_berita_limit($params) {            $sql = "SELECT a.*, s.nama FROM berita_m a LEFT JOIN relawan_m s ON a.id_relawan = s.id_relawan WHERE a.id_relawan = ?             ORDER BY tanggal DESC LIMIT ?, ?";            $query = $this->db->query($sql,$params);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }        function get_list_berita() {            $sql = "SELECT * from berita_m ORDER BY tanggal DESC ";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_list_berita_private() {                               $sql = "SELECT a.*, s.id_relawan, s.nama FROM berita_m a            LEFT JOIN relawan_m s ON a.id_relawan = s.id_relawan GROUP BY a.id_berita            ORDER BY a.tanggal DESC ";                     $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_list_berita_terkait() {            $id_relawan = $this->uri->segment(4,0);            $sql = "SELECT a.*, s.id_relawan, s.nama FROM berita_m a         LEFT JOIN relawan_m s ON a.id_relawan = s.id_relawan WHERE s.id_relawan = $id_relawan            ORDER BY tanggal DESC LIMIT 0,5";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }        function get_list_berita_terkait_kedua() {            $id_relawan = $this->uri->segment(4,0);            $sql = "SELECT a.*, s.id_relawan, s.nama FROM berita_m a         LEFT JOIN relawan_m s ON a.id_relawan = s.id_relawan WHERE s.id_relawan = $id_relawan            ORDER BY tanggal DESC LIMIT 5,5";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                                function get_berita_by_id($id) {            $this->db->where('id_berita', $id);            $query = $this->db->get('berita_m');                        if ($query->num_rows() > 0) {                $result = $query->row_array();                $query->free_result();                return $result;            } else {                return false;            }        }                function get_berita_relawan_utama() {            $sql = "SELECT a.*, s.id_relawan, s.nama FROM berita_m a         LEFT JOIN relawan_m s ON a.id_relawan = s.id_relawan WHERE s.id_relawan = 1            ORDER BY tanggal DESC";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }         function get_berita_relawan_utama_side() {            $sql = "SELECT a.*, s.id_relawan, s.nama FROM berita_m a         LEFT JOIN relawan_m s ON a.id_relawan = s.id_relawan WHERE s.id_relawan = 1            ORDER BY tanggal DESC LIMIT 0,3";            $query = $this->db->query($sql);                        if ($query->num_rows() > 0) {                $result = $query->result_array();                $query->free_result();                return $result;            } else {                return false;            }        }                              function process_berita_add($params) {            $sql = "INSERT INTO berita_m (id_relawan, judul, content, tanggal, keterangan_gambar)                VALUES (?, ?, ?, ?, ?)";            return $this->db->query($sql, $params);        }                function process_berita_edit($params) {            $sql = "UPDATE berita_m SET id_relawan = ? , judul = ?, content = ?, tanggal = ?, keterangan_gambar = ?                 WHERE id_berita = ? ";            return $this->db->query($sql, $params);        }                function process_berita_delete($id) {            $this->db->where('id_berita', $id);            return $this->db->delete('berita_m');        }    }